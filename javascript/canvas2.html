<!DOCTYPE html>
<html lang="kr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <canvas width="1000" height="900">
        지원하지 않습니다.
    </canvas>


    <script>
        const canvas = document.querySelector('canvas'),
            ctx = canvas.getContext('2d');

        let x = 0;
        /* function draw() {

            x += 5;

            ctx.clearRect(0, 0, 1000, 900);

            // ctx.arc(50,50,)
            if (x > 1000) {
                x = 0;
            }

            requestAnimationFrame(draw);
        } */
        //draw();
        function ran(n) {
            return Math.floor(Math.random() * n);
        }

        class RectObject {
            constructor(x, y, w, h, c, s) {
                this.x = ran(800),
                    this.y = ran(600),
                    this.w = ran(200) + 50,
                    this.h = ran(200) + 50,
                    this.c = `rgb(${ran(255)},${ran(255)},${ran(255)},${ran(255)})`
                this.s = ran(10) + 1;
            }
            draw() {
                ctx.fillStyle = this.c;
                ctx.fillRect(this.x, this.y, this.w, this.h);
            }

        }
        let rect = [];
        for (let i = 0; i < 10; i++) {
            rect.push(new RectObject());
        }
        function ani() {
            ctx.clearRect(0, 0, 1000, 900)
            rect.forEach(r => {
                r.x += r.s;
                r.draw();
                if (r.x > 1000) {
                    r.x = 0;
                    r.s = ran(10)+1;
                }
            })
            requestAnimationFrame(ani)

        }
        console.log(rect[0].s)
        console.log(rect[1].s)
        console.log(rect[3].s)
        console.log(rect[4].s)
        console.log(rect[5].s)
        console.log(rect[6].s)
        console.log(rect[7].s)
        console.log(rect[8].s)

        ani();
    </script>
</body>

</html>